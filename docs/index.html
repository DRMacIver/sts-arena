<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>STS Arena - Slay the Spire Practice Mod</title>
        <link rel="stylesheet" href="styles.css" />
    </head>
    <body>
        <header>
            <div class="container header-content">
                <a href="#" class="logo">STS <span>Arena</span></a>
                <button class="theme-toggle" onclick="toggleTheme()">
                    Toggle Dark Mode
                </button>
            </div>
        </header>

        <nav>
            <div class="container">
                <ul>
                    <li><a href="#installation">Installation</a></li>
                    <li><a href="#quick-start">Quick Start</a></li>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#loadouts">Loadouts</a></li>
                    <li><a href="#encounters">Encounters</a></li>
                    <li><a href="#practice">Practice Mode</a></li>
                    <li><a href="#history">History & Stats</a></li>
                </ul>
            </div>
        </nav>

        <section class="hero">
            <div class="container">
                <h1>STS Arena</h1>
                <p>
                    If you find yourself asking "Does this deck beat Gremlin
                    Nob?", why not just check? Practice fights in Slay the Spire
                    to improve your tactical play and get a better sense of the
                    strength of different decks.
                </p>
            </div>
        </section>

        <main class="container">
            <!-- Installation -->
            <section id="installation">
                <h2>Installation</h2>
                <h3>Requirements</h3>
                <ul>
                    <li>
                        <a
                            href="https://store.steampowered.com/app/646570/Slay_the_Spire/"
                            >Slay the Spire</a
                        >
                        (Steam version)
                    </li>
                    <li>
                        <a
                            href="https://steamcommunity.com/workshop/filedetails/?id=1605060445"
                            >ModTheSpire</a
                        >
                        (Steam Workshop)
                    </li>
                    <li>
                        <a
                            href="https://steamcommunity.com/workshop/filedetails/?id=1605833019"
                            >BaseMod</a
                        >
                        (Steam Workshop)
                    </li>
                </ul>

                <h3>Installation Steps</h3>
                <ol>
                    <li>
                        Subscribe to ModTheSpire and BaseMod on the Steam
                        Workshop
                    </li>
                    <li>
                        Download
                        <a
                            href="https://github.com/DRMacIver/sts-arena/releases/download/v0.4.0/STSArena-0.4.0.jar"
                            >STSArena-0.4.0.jar</a
                        >
                        (or see
                        <a
                            href="https://github.com/DRMacIver/sts-arena/releases"
                            >all releases</a
                        >)
                    </li>
                    <li>
                        Place <code>STSArena.jar</code> in your Slay the Spire
                        mods folder:
                        <ul>
                            <li>
                                <strong>Windows:</strong>
                                <code
                                    >C:\Program Files
                                    (x86)\Steam\steamapps\common\SlayTheSpire\mods\</code
                                >
                            </li>
                            <li>
                                <strong>macOS:</strong>
                                <code
                                    >~/Library/Application
                                    Support/Steam/steamapps/common/SlayTheSpire/SlayTheSpire.app/Contents/Resources/mods/</code
                                >
                            </li>
                            <li>
                                <strong>Linux:</strong>
                                <code
                                    >~/.local/share/Steam/steamapps/common/SlayTheSpire/mods/</code
                                >
                            </li>
                        </ul>
                    </li>
                    <li>
                        Launch the game through ModTheSpire and enable "STS
                        Arena" in the mod list
                    </li>
                </ol>
            </section>

            <!-- Quick Start -->
            <section id="quick-start">
                <h2>Quick Start</h2>
                <p>Get started with arena practice in just a few clicks:</p>
                <ol>
                    <li>
                        From the main menu, click <strong>Arena Mode</strong>
                    </li>
                    <li>
                        Select a saved loadout or choose
                        <strong>New Random Loadout</strong>
                    </li>
                    <li>Pick an encounter (enemy) to fight</li>
                    <li>
                        Battle! After winning or losing, you can:
                        <ul>
                            <li>
                                <strong>Rematch</strong> - Try the same fight
                                again
                            </li>
                            <li>
                                <strong>Modify Deck</strong> - Tweak your
                                loadout and retry
                            </li>
                            <li>
                                <strong>Continue</strong> - Return to selection
                                screens
                            </li>
                        </ul>
                    </li>
                </ol>

                <div class="screenshot-container">
                    <img
                        src="screenshots/main_menu.png"
                        alt="Main menu with Arena Mode button"
                        class="screenshot"
                        onclick="openModal(this)"
                    />
                    <p class="screenshot-caption">
                        The Arena Mode button appears on the main menu
                    </p>
                </div>
            </section>

            <!-- Features -->
            <section id="features">
                <h2>Features</h2>

                <div class="feature-grid">
                    <div class="feature-card">
                        <h3>Custom Loadouts</h3>
                        <p>
                            Build any deck with any cards, relics, and potions.
                            Perfect for testing specific strategies or learning
                            card interactions.
                        </p>
                    </div>
                    <div class="feature-card">
                        <h3>Any Encounter</h3>
                        <p>
                            Fight any enemy in the game - from early Cultists to
                            The Heart. Practice bosses, elites, or tricky enemy
                            combinations.
                        </p>
                    </div>
                    <div class="feature-card">
                        <h3>Instant Retry</h3>
                        <p>
                            Lost a fight? Retry immediately with the same or
                            modified loadout. No need to start a new run.
                        </p>
                    </div>
                    <div class="feature-card">
                        <h3>Practice from Run</h3>
                        <p>
                            Mid-run against a tough fight? Use "Practice in
                            Arena" from the pause menu to practice with your
                            current deck.
                        </p>
                    </div>
                    <div class="feature-card">
                        <h3>Statistics Tracking</h3>
                        <p>
                            Track your win rate against specific encounters. See
                            which fights give you trouble and measure
                            improvement.
                        </p>
                    </div>
                    <div class="feature-card">
                        <h3>Save Management</h3>
                        <p>
                            Arena fights don't affect your normal run saves.
                            Practice freely without worry.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Loadouts -->
            <section id="loadouts">
                <h2>Loadout Management</h2>

                <h3>Loadout Selection Screen</h3>
                <p>
                    The loadout selection screen shows all your saved loadouts.
                    Hover over a loadout to preview its contents.
                </p>

                <div class="screenshot-container">
                    <img
                        src="screenshots/loadout_select.png"
                        alt="Loadout selection screen"
                        class="screenshot"
                        onclick="openModal(this)"
                    />
                    <p class="screenshot-caption">
                        Select from saved loadouts or create a new random one
                    </p>
                </div>

                <h3>Available Actions</h3>
                <ul>
                    <li>
                        <strong>Fight</strong> - Start an arena fight with this
                        loadout
                    </li>
                    <li>
                        <strong>Edit</strong> - Modify the loadout (changes
                        saved to same slot)
                    </li>
                    <li>
                        <strong>Copy</strong> - Create a copy to modify without
                        affecting original
                    </li>
                    <li><strong>Rename</strong> - Change the loadout's name</li>
                    <li>
                        <strong>Favorite</strong> - Mark as favorite for quick
                        access
                    </li>
                    <li><strong>Delete</strong> - Remove the loadout</li>
                    <li>
                        <strong>History</strong> - View fight history for this
                        loadout
                    </li>
                </ul>

                <h3>Creating Custom Loadouts</h3>
                <p>
                    Use the Loadout Creator to build custom decks from scratch:
                </p>

                <div class="screenshot-container">
                    <img
                        src="screenshots/loadout_creator_cards.png"
                        alt="Loadout creator screen"
                        class="screenshot"
                        onclick="openModal(this)"
                    />
                    <p class="screenshot-caption">
                        Build custom loadouts with any cards, relics, and
                        potions
                    </p>
                </div>

                <h4>Creator Features:</h4>
                <ul>
                    <li>
                        <strong>Character Selection</strong> - Choose any of the
                        four characters
                    </li>
                    <li>
                        <strong>Card Search</strong> - Search and add any card
                        to your deck
                    </li>
                    <li>
                        <strong>Relic Selection</strong> - Add relics (including
                        those from other characters with Prismatic Shard)
                    </li>
                    <li>
                        <strong>Potion Selection</strong> - Fill your potion
                        slots
                    </li>
                    <li>
                        <strong>HP Customization</strong> - Set your current and
                        maximum HP
                    </li>
                    <li>
                        <strong>Ascension Level</strong> - Practice at any
                        ascension level (0-20)
                    </li>
                </ul>
            </section>

            <!-- Encounters -->
            <section id="encounters">
                <h2>Encounter Selection</h2>
                <p>After selecting a loadout, choose which enemy to fight:</p>

                <div class="screenshot-container">
                    <img
                        src="screenshots/encounter_select.png"
                        alt="Encounter selection screen"
                        class="screenshot"
                        onclick="openModal(this)"
                    />
                    <p class="screenshot-caption">
                        Choose any encounter from any act
                    </p>
                </div>

                <h3>Encounter Categories</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Category</th>
                            <th>Examples</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Act 1 Normal</td>
                            <td>Cultist, Jaw Worm, 2 Lice, Gremlin Gang</td>
                        </tr>
                        <tr>
                            <td>Act 1 Elite</td>
                            <td>Gremlin Nob, Lagavulin, 3 Sentries</td>
                        </tr>
                        <tr>
                            <td>Act 1 Boss</td>
                            <td>The Guardian, Hexaghost, Slime Boss</td>
                        </tr>
                        <tr>
                            <td>Act 2 Normal</td>
                            <td>Chosen, Byrd, Snecko, Cultist and Chosen</td>
                        </tr>
                        <tr>
                            <td>Act 2 Elite</td>
                            <td>Gremlin Leader, Book of Stabbing, Slavers</td>
                        </tr>
                        <tr>
                            <td>Act 2 Boss</td>
                            <td>The Champ, Collector, Automaton</td>
                        </tr>
                        <tr>
                            <td>Act 3 Normal</td>
                            <td>Darklings, Orb Walker, Jaw Worm Horde</td>
                        </tr>
                        <tr>
                            <td>Act 3 Elite</td>
                            <td>Giant Head, Nemesis, Reptomancer</td>
                        </tr>
                        <tr>
                            <td>Act 3 Boss</td>
                            <td>Awakened One, Time Eater, Donu and Deca</td>
                        </tr>
                        <tr>
                            <td>Act 4</td>
                            <td>Shield and Spear, The Heart</td>
                        </tr>
                    </tbody>
                </table>

                <div class="note">
                    <p>
                        <strong>Tip:</strong> Use the search box to quickly find
                        specific encounters. The list shows your win/loss record
                        for each encounter with the current loadout.
                    </p>
                </div>
            </section>

            <!-- Combat -->
            <section id="combat">
                <h2>Arena Combat</h2>
                <p>
                    Arena combat works just like normal Slay the Spire combat:
                </p>

                <div class="screenshot-container">
                    <img
                        src="screenshots/arena_combat.png"
                        alt="Arena combat"
                        class="screenshot"
                        onclick="openModal(this)"
                    />
                    <p class="screenshot-caption">
                        Combat plays exactly like the base game
                    </p>
                </div>

                <h3>Key Differences from Normal Runs</h3>
                <ul>
                    <li>No card rewards after victory</li>
                    <li>No gold or potion drops</li>
                    <li>Fight results are recorded for statistics</li>
                    <li>Can instantly retry or modify deck after finishing</li>
                </ul>

                <h3>Victory Screen</h3>
                <p>After winning, you can choose to:</p>
                <div class="screenshot-container">
                    <img
                        src="screenshots/arena_victory.png"
                        alt="Arena victory screen"
                        class="screenshot"
                        onclick="openModal(this)"
                    />
                    <p class="screenshot-caption">
                        Victory options: Continue, Retry, or Edit Loadout
                    </p>
                </div>

                <h3>Defeat Screen</h3>
                <p>After losing, you can immediately retry:</p>
                <div class="screenshot-container">
                    <img
                        src="screenshots/arena_defeat.png"
                        alt="Arena defeat screen"
                        class="screenshot"
                        onclick="openModal(this)"
                    />
                    <p class="screenshot-caption">
                        Defeat options: Continue, Retry, or Edit Loadout
                    </p>
                </div>
            </section>

            <!-- Practice Mode -->
            <section id="practice">
                <h2>Practice from Normal Run</h2>
                <p>
                    Facing a tough fight in your normal run? Use the pause menu
                    to practice:
                </p>

                <div class="screenshot-container">
                    <img
                        src="screenshots/pause_menu_practice.png"
                        alt="Pause menu with Practice in Arena"
                        class="screenshot"
                        onclick="openModal(this)"
                    />
                    <p class="screenshot-caption">
                        The "Practice in Arena" button appears in the pause menu
                        during normal runs
                    </p>
                </div>

                <h3>How It Works</h3>
                <ol>
                    <li>
                        During a normal run, press <kbd>Escape</kbd> to open the
                        pause menu
                    </li>
                    <li>Click <strong>Practice in Arena</strong></li>
                    <li>
                        Your current deck, relics, and potions are saved as a
                        new loadout
                    </li>
                    <li>Select an encounter to practice against</li>
                    <li>After practicing, you can return to your normal run</li>
                </ol>

                <div class="note">
                    <p>
                        <strong>Note:</strong> Your normal run save is
                        completely protected. Arena practice doesn't affect your
                        run in any way.
                    </p>
                </div>

                <h3>Practice from Death Screen</h3>
                <p>
                    If you die during a normal run, you can also practice from
                    the death screen:
                </p>

                <div class="screenshot-container">
                    <img
                        src="screenshots/normal_run_death.png"
                        alt="Death screen with Practice in Arena button"
                        class="screenshot"
                        onclick="openModal(this)"
                    />
                    <p class="screenshot-caption">
                        The death screen includes a "Practice in Arena" button
                        to analyze what went wrong
                    </p>
                </div>

                <p>
                    This is especially useful for analyzing tough fights - you
                    can immediately retry the encounter that ended your run with
                    the exact deck you had.
                </p>
            </section>

            <!-- History & Stats -->
            <section id="history">
                <h2>History & Statistics</h2>

                <h3>Fight History</h3>
                <p>View your recent arena fights with detailed information:</p>
                <div class="screenshot-container">
                    <img
                        src="screenshots/history_screen.png"
                        alt="Fight history screen"
                        class="screenshot"
                        onclick="openModal(this)"
                    />
                    <p class="screenshot-caption">
                        Fight history shows loadout, encounter, outcome, and
                        date
                    </p>
                </div>

                <h3>Statistics Screen</h3>
                <p>
                    Track your performance across loadout+encounter
                    combinations:
                </p>
                <div class="screenshot-container">
                    <img
                        src="screenshots/stats_screen.png"
                        alt="Statistics screen"
                        class="screenshot"
                        onclick="openModal(this)"
                    />
                    <p class="screenshot-caption">
                        Statistics show win rates for each loadout vs encounter
                    </p>
                </div>

                <h3>Tracked Metrics</h3>
                <ul>
                    <li>Win/Loss counts and win rate</li>
                    <li>Damage dealt and taken</li>
                    <li>Turns per fight</li>
                    <li>Cards played</li>
                    <li>Potions used</li>
                </ul>
            </section>
        </main>

        <footer>
            <div class="container footer-content">
                <p>STS Arena - A Slay the Spire mod by drmaciver</p>
                <div class="footer-links">
                    <a href="https://github.com/DRMacIver/sts-arena">GitHub</a>
                    <a
                        href="https://store.steampowered.com/app/646570/Slay_the_Spire/"
                        >Slay the Spire</a
                    >
                </div>
            </div>
        </footer>

        <!-- Modal for full-size screenshots -->
        <div id="modal" class="modal" onclick="closeModal()">
            <span class="modal-close">&times;</span>
            <img id="modal-img" src="" alt="" />
        </div>

        <script>
            // Theme toggle
            function toggleTheme() {
                const html = document.documentElement;
                const currentTheme = html.getAttribute("data-theme");
                const newTheme = currentTheme === "dark" ? "light" : "dark";
                html.setAttribute("data-theme", newTheme);
                localStorage.setItem("theme", newTheme);
            }

            // Load saved theme
            const savedTheme = localStorage.getItem("theme");
            if (savedTheme) {
                document.documentElement.setAttribute("data-theme", savedTheme);
            } else if (
                window.matchMedia("(prefers-color-scheme: dark)").matches
            ) {
                document.documentElement.setAttribute("data-theme", "dark");
            }

            // Screenshot modal
            function openModal(img) {
                const modal = document.getElementById("modal");
                const modalImg = document.getElementById("modal-img");
                modalImg.src = img.src;
                modal.classList.add("active");
            }

            function closeModal() {
                document.getElementById("modal").classList.remove("active");
            }

            // Close modal with Escape key
            document.addEventListener("keydown", (e) => {
                if (e.key === "Escape") {
                    closeModal();
                }
            });
        </script>
    </body>
</html>
